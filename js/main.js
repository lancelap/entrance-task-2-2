!function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function s({nav:t,toggleButton:e,classNameNav:n}){this.nav=t,this.toggleButton=e,this.classNameNav=n,this.toggleButton.addEventListener("click",()=>{this.toggle()})}function o({toggleButton:t}){s.apply(this,arguments),this.toggleButton=t,this.nav.addEventListener("click",t=>{this.select(t)})}function a(t){const e=t.getBoundingClientRect();return{top:e.top+pageYOffset,left:e.left+pageXOffset}}function c(t,e){t.addEventListener("mousedown",n=>{var s=a(t);let o=n.pageY-s.top-e.offsetHeight/2,c=n.pageX-s.left-e.offsetWidth/2;o<0&&(o=0),c<0&&(c=0);let i=t.offsetHeight-e.offsetHeight,l=t.offsetWidth-e.offsetWidth;o>i&&(o=i),c>l&&(c=l),e.style.top=o+"px",e.style.left=c+"px"})}function i(t,e){t.addEventListener("click",n=>{const s=a(t),o=(n.pageX-s.left-t.offsetWidth/2)/110.5,c=-1*(n.pageY-s.top-t.offsetHeight/2)/110.5;let i=180*Math.atan2(c,o)/Math.PI;i<=0?i+=360:i=i,e.setAttribute("style",`transform: rotate(${-(i-90)}deg)`)})}function l(t){return function(e){return 1-t(1-e)}}function r(t){const e=performance.now();requestAnimationFrame(function n(s){let o=(s-e)/t.duration;o>1&&(o=1);const a=t.timing(o);t.draw(a),o<1&&requestAnimationFrame(n),o>=1&&t.callback&&t.callback()})}function d({list:t,controls:e,width:n}){this.list=t,this.controls=e,this.isAnimate=!1,this.quadEaseOut=l(t=>Math.pow(t,2)),this.controls.addEventListener("click",t=>{if(this.isAnimate)return;const e=t.target.getAttribute("data-action");e&&this[e]()}),this.check()}n.r(e),s.prototype.toggle=function(){this.nav.classList.contains(this.classNameNav+"--opened")?this.close():this.open()},s.prototype.open=function(){this.nav.classList.remove(this.classNameNav+"--closed"),this.nav.classList.add(this.classNameNav+"--opened")},s.prototype.close=function(){this.nav.classList.add(this.classNameNav+"--closed"),this.nav.classList.remove(this.classNameNav+"--opened")},o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.select=function(t){const e=t.target.closest("li > button");if(e){t.preventDefault(),this.toggleButton.innerHTML=e.innerHTML,document.querySelector("li > .button--active").classList.remove("button--active"),e.classList.add("button--active"),this.toggle()}},d.prototype.check=function(){const t=this.controls.querySelector(".arrows-nav__arrow--left"),e=this.controls.querySelector(".arrows-nav__arrow--right"),n=this.list.scrollLeft,s=this.list.scrollWidth,o=this.list.clientWidth;function a(t){t.setAttribute("disabled","disabled"),t.setAttribute("tabindex","-1"),t.classList.remove("arrows-nav__arrow--active")}function c(t){t.removeAttribute("disabled"),t.setAttribute("tabindex","0"),t.classList.add("arrows-nav__arrow--active")}0===n?a(t):c(t),n+o>=s||s-n<2*this.list.firstElementChild.clientWidth?a(e):c(e)},d.prototype.next=function(){this.switch("NEXT")},d.prototype.prev=function(){this.switch("PREV")},d.prototype.switch=function(t){const e=this.list.scrollLeft,n=this.list.scrollWidth/this.list.children.length;this.isAnimate=!0,r({duration:300,timing:this.quadEaseOut,draw:s=>{switch(t){case"NEXT":this.list.scrollLeft=e+s*n;break;case"PREV":this.list.scrollLeft=e-s*n}},callback:()=>{this.isAnimate=!this.isAnimate,this.check()}})},new s({nav:document.getElementById("main-nav"),toggleButton:document.getElementById("main-nav-toggle"),classNameNav:"header__nav"}),new o({nav:document.getElementById("featured-nav"),toggleButton:document.getElementById("devices__toggle"),classNameNav:"featured-nav"});const u=document.querySelector(".device-bar"),m=document.querySelector(".device-bar__track"),p=document.querySelector(".controller__termometr"),h=document.querySelector(".termometr__arrow");u&&c(u,m),p&&i(p,h),new d({list:document.getElementById("scripts"),controls:document.getElementById("nav-featured-scripts")});const f=new d({list:document.getElementById("devices"),controls:document.getElementById("nav-featured-devices")});new function(t){const{element:e,list:n,gallery:s}=t;e.addEventListener("click",t=>{let e=t.target;t.preventDefault();const o=e.closest("li");if(!o)return;const a=o.dataset.filterPlace||o.dataset.filterType;a&&(n.childNodes.forEach(t=>{if(1!=t.nodeType)return;const e=t.dataset.place,n=t.dataset.typeDevice;t.style="display:none",e!==a&&n!==a&&"none"!==a||(t.style="")}),s.check())})}({element:document.getElementById("featured-nav-list"),list:document.getElementById("devices"),gallery:f}),function(){const t="sun",e="temperature",n=document.querySelector(".modal"),s=document.querySelectorAll(".elementnav__list"),o=document.querySelector(".page__content");function a(s,r,d){if(n.classList.contains("modal--opened"))document.body.classList.remove("page--no-scroll"),o.classList.add("page__content--blured-out"),o.classList.remove("page__content--blured"),n.classList.add("modal--closed"),n.classList.remove("modal--opened");else{n.innerHTML="";const u=function(n,s,o){const r=document.createElement("section");r.classList.add("modal__content"),o===e||o===t?r.classList.add("modal__bar"):r.classList.add("modal__termometr");const d=document.createElement("div");d.classList.add("modal__block-btn");const u=document.createElement("button");u.classList.add("button","button--active","modal__btn","modal__btn--active"),u.textContent="Применить",u.setAttribute("id","applyBtn"),d.appendChild(u);const m=document.createElement("button");m.classList.add("button","modal__btn"),m.textContent="Закрыть",m.setAttribute("id","closeBtn"),d.appendChild(m);const p=function(n,s,o){const a=document.createElement("div");a.classList.add("controller","modal__line");const r=function(n,s,o){const a=document.createElement("div"),r=document.createElement("div");r.classList.add("controller__line","controller__temp-info");const d=document.createElement("h1");d.classList.add("controller__title"),d.textContent=n,r.appendChild(d);const u=document.createElement("div");u.classList.add("weather","controller__weather","controller__only-desktop");const m=document.createElement("p");m.classList.add("weather__info","weather__info--with-icon","controller__weather-info"),u.appendChild(m);const p=document.createElement("span");if(p.classList.add("weather__icon","controller__weather-icon"),u.appendChild(p),o===t)p.classList.add("weather__icon--sun");else{const t=document.createTextNode("+23");m.appendChild(t),p.classList.add("weather__icon--temperature2")}r.appendChild(u);const h=document.createElement("p");h.classList.add("controller__state"),h.textContent=s,r.appendChild(h),a.appendChild(r);const f=function(n){const s=document.createElement("div");if(n===t||n===e){s.classList.add("device-bar"),n===e?s.classList.add("device-bar--temp"):s.classList.add("device-bar--light"),s.classList.add("device-bar","controller__bar");const t=document.createElement("div");t.classList.add("device-bar__track"),t.setAttribute("style","top: 105px"),s.appendChild(t),c(s,t)}else{s.classList.add("termometr","controller__termometr");const t=document.createElement("div");t.classList.add("termometr__scale"),t.classList.add("termometr__scale");const e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg"),o=document.createElementNS(e,"circle"),a=document.createElementNS(e,"title");o.setAttribute("r",16),o.setAttribute("cx",16),o.setAttribute("cy",16),o.classList.add("termometr__circle"),n.setAttribute("viewBox","0 0 32 32"),n.classList.add("termometr__svg"),a.textContent="circle",n.appendChild(a),n.appendChild(o),t.appendChild(n);const c=document.createElement("div");c.classList.add("termometr__bg");const l=document.createElement("b");l.classList.add("termometr__value"),l.textContent="+23";const r=document.createElement("div");r.classList.add("termometr__arrow"),r.setAttribute("style","transform: rotate(104deg)"),s.appendChild(t),s.appendChild(c),s.appendChild(l),s.appendChild(r),i(s,r)}return s}(o);return o===t?a.appendChild(l([["Вручную",null],["Дневной свет",0],["Вечерний свет",1],["Рассвет",.5]],f)):o===e&&a.appendChild(l([["Вручную",null],["Холодно",0],["Тепло",.5],["Жарко",1]],f)),a.appendChild(f),a}(n,s,o);return a.appendChild(r),a}(n,s,o);return r.appendChild(p),r.appendChild(d),u.addEventListener("click",()=>{a()}),m.addEventListener("click",()=>{a()}),r}(s,r,d);document.body.classList.add("page--no-scroll"),o.classList.remove("page__content--blured-out"),o.classList.add("page__content--blured"),n.classList.add("modal--opened"),n.classList.remove("modal--closed"),n.appendChild(u)}}function l(t,e){const n=document.createElement("ul");n.classList.add("elementnav__list","controller__places-list"),t.forEach((e,s)=>{const o=document.createElement("li");o.classList.add("elementnav__item","elementnav__item--controller","controller__places-item");const a=document.createElement("button");a.classList.add("button"),0===s&&a.classList.add("button--active"),s===t.length-1&&a.classList.add("controller__only-desktop"),a.textContent=e[0],a.setAttribute("data-value",e[1]),o.appendChild(a),n.appendChild(o)}),n.addEventListener("click",t=>{let n=t.target;for(;n!==this;){if("BUTTON"===n.tagName){const t=e.querySelector(".device-bar__track");let s=e.clientHeight-e.clientHeight*+n.dataset.value-t.offsetHeight/2,o=e.clientWidth*+n.dataset.value-t.offsetWidth/2;s<0&&(s=0),o<0&&(o=0);let a=e.offsetHeight-t.offsetHeight,c=e.offsetWidth-t.offsetWidth;return s>a&&(s=a),o>c&&(o=c),t.style.top=s+"px",t.style.left=o+"px",document.querySelector(".controller__places-item > .button--active").classList.remove("button--active"),void n.classList.add("button--active")}n=n.parentNode}});const s=document.createElement("div");s.classList.add("elementnav","controller__elementnav");const o=document.createElement("div");return o.classList.add("elementnav__wrapper"),o.appendChild(n),s.appendChild(o),s}!function(t){t.forEach(t=>{t.addEventListener("click",e=>{let n=e.target;for(;n!=t;){const t=n.getAttribute("data-type");if("device"===t){const t=n.getAttribute("data-name"),e=n.getAttribute("data-state"),s=n.getAttribute("data-type-device");return void a(t,e,s)}n=n.parentNode}})})}(s)}(),function(){const t=document.getElementById("featured-scripts");function e(e){const n=t.scrollTop,s=t.scrollHeight/t.children.length;r({duration:300,timing:l(t=>Math.pow(t,2)),draw:e=>{t.scrollTop=n+e*s}}),e.stopPropagation()}function n(t){const n=t.querySelectorAll(".elementnav__item"),s=t.scrollTop;null!==n[2]&&(s>0?(n[2].removeEventListener("click",e),n[2].classList.remove("elementnav__item--with-arrow")):0===s&&(n[2].classList.add("elementnav__item--with-arrow"),n[2].addEventListener("click",e)))}n(t),t.addEventListener("scroll",function(t,e){let n,s,o=!1;return function a(){if(o)return n=arguments,void(s=this);t.apply(this,arguments),o=!0,setTimeout(function(){o=!1,n&&(a.apply(s,n),n=s=null)},e)}}(()=>{n(t)},200))}()}]);